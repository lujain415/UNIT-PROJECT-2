{% extends 'base.html' %}
{% load static %}
{% block body_class %}contact-page-background{% endblock %}
{% block content %}
<h2 class="fade-in-title special-gothic-expanded-one-regular text-center mb-4 mt-4 custom-section-title">{{ pet.name }}</h2>


<div class="detail-top">
  <div class="detail-img">
    {% if pet.image %}
      <img src="{{ pet.image.url }}" alt="{{ pet.name }}">
    {% else %}
      <img src="{% static 'images/default_pet.jpg' %}" alt="{{ pet.name }}">
    {% endif %}
  </div>
  <div class="detail-info">
    <p><strong>Breed:</strong> {{ pet.breed }}</p>
    <p><strong>Age:</strong> {{ pet.age }} years</p>
    <p><strong>Category:</strong> {{ pet.get_category_display }}</p>
    <p><strong>Description:</strong> {{ pet.description }}</p>
    <p><strong>Available:</strong> {{ pet.available|yesno:"Yes,No" }}</p>
  </div>
</div>
<div class="mt-4 d-flex gap-2">
  <a href="{% url 'pets:adoption_request' pet.id %}" class="btn custom-btn adopt-btn"> Adopt this pet </a>
  <a href="{% url 'pets:pet_update' pet.id %}" class="btn custom-btn edit-btn">Update</a>
  <a href="{% url 'pets:pet_delete' pet.id %}" class="btn custom-btn delete-btn">Delete</a>
</div>

<hr>

<h4>Comments ({{ comments.count }})</h4>
<div>
  {% for comment in comments %}
    <div class="card mb-2">
      <div class="card-body">
        <h6 class="card-subtitle mb-1 text-muted">{{ comment.name }} - {{ comment.created_at|date:"Y-m-d H:i" }}</h6>
        <p class="card-text">{{ comment.text }}</p>
      </div>
    </div>
  {% empty %}
    <p>No comments yet. Be the first to comment!</p>
  {% endfor %}
</div>

<hr>

<h4 class="mt-4">Add a Comment</h4>
    <form method="post" class="d-flex flex-column gap-3">
      {% csrf_token %}
      <input type="text" name="name" class="form-control" placeholder="Your name" required />
      <textarea name="text" class="form-control" rows="3" placeholder="Your comment..." required></textarea>
      <button type="submit" class="btn custom-btn comment-btn">Add Comment</button>
    </form>
{% endblock %}
